# 前端灰度发布与 A/B Test

灰度发布使得线上不同的用户可以访问到不同版本的页面, A/B测试重点是在几种方案中选择最大方案

## 作用

* 及早获取用户的意见反馈
* 降低产品升级所影响的用户范围
* 现阶段主要用于前端布局方面的测试

## 策略

* 用户规模
* 判断依据(IP段, 用户ID)

服务端需要一个后台来控制发布策略

## 数据分析

* 基于现有 bi 数据打点

## 如何判断展现不同版本的页面

### ~~CDN 分流~~

* 不用过多的去关注业务细节, 只需要将不同的分支对应到不同的用户请求
* 粒度不好控制
* 理论上 CDN 不应该承担这个任务

### 前端与服务端协同判断

* 相对更加灵活
* 建议在 router 层面去做,根据规则挂载不同的组件
* 需要与服务端紧密配合, 由服务端传回相应的规则配置
* 前端针对服务端不同的返回值来返回不同的模板

> [前端乱炖](http://www.html-js.com/article/ABtest-front-building-methods)
> [zenxds](http://zenxds.com/blog/2016/03/09/%E5%89%8D%E7%AB%AF%E7%81%B0%E5%BA%A6%E5%8F%91%E5%B8%83%E5%B0%8F%E7%BB%93/)
