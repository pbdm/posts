# Chrome

* [Chrome插件开发文档360版](http://open.chrome.360.cn/extension_dev/overview.html)
* [Chrome插件开发非官方中文文档](https://crxdoc-zh.appspot.com/apps/about_apps.html)
* [List of Chromium Command Line Switches](https://peter.sh/experiments/chromium-command-line-switches/)
  * --disable-web-security: 关闭安全策略, 可以解除跨域限制
  * --user-data-dir: Directory where the browser stores the user profile

## 进程模型

* 一般来说, chrome 里进程分两类
  * 主进程(browser process)
  * 每个 tab 或者扩展为独立进程(renderer processes), 可以在 Activity Monitor 里看到一个 Google Chrome Helper
* GUI渲染线程负责渲染浏览器界面(repaint, reflow), 与JavaScript引擎互斥，当JavaScript引擎执行时GUI线程会被挂起，GUI更新会被保存在一个队列中等到JavaScript引擎空闲时立即被执行
* 事件触发线程
  * 负责将 setTimeout 里面的语句塞到 queue 里去的任务也是在单独的线程里执行的(里面的语句还是要在 js 引擎所在的线程执行的)
  * 另外点击事件, 网络请求等也是放在单独的线程里的
* 网络请求(貌似是主进程里的线程?!), 定时器计数也有单独的线程

[chrome://tracing/](chrome://tracing/)

> [Threads overview](https://chromium.googlesource.com/chromium/src/+/lkcr/docs/threading_and_tasks.md#threads)
>
> [关于JavaScript单线程的一些事](https://github.com/JChehe/blog/blob/master/posts/%E5%85%B3%E4%BA%8EJavaScript%E5%8D%95%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%B8%80%E4%BA%9B%E4%BA%8B.md#%E6%B5%8F%E8%A7%88%E5%99%A8)
>
> [从浏览器多进程到JS单线程，JS运行机制最全面的一次梳理 by dailc](https://juejin.im/post/5a6547d0f265da3e283a1df7)

## 内部链接

* HTTP/2 查看工具: `chrome://net-internals/#http2`
* 查看 chrome HSTS Preload 域名: `chrome://net-internals/#hsts`
* 查看缓存文件: `chrome://view-http-cache`, aliase: `chrome://cache/`
  * [Both `chrome://cache` and `chrome://view-http-cache` have been removed starting chrome 66](https://superuser.com/questions/1316540/where-has-chrome-cache-been-moved-to)

## Versions

* [Chrome Release Channels](https://www.chromium.org/getting-involved/dev-channel)
* [stable download](https://www.google.com/chrome/browser/desktop/index.html?platform=mac) 每月(6周)更新
* [beta download](https://www.google.com/chrome/browser/beta.html?platform=mac&extra=betachannel) 每月(6周)更新
* [dev download](https://www.google.com/chrome/browser/desktop/index.html?platform=mac&extra=devchannel) 每星期更新

* [Canary](https://www.google.com/chrome/browser/canary.html?platform=mac) 每天更新, 可与上面三个共存安装
* [chromium](https://download-chromium.appspot.com/) 小时更新

## DevTools

* [Chrome devtools 官方文档](https://developers.google.com/web/tools/chrome-devtools/)
* 查看事件绑定: `chrome-dev-tools -> Elements -> Event Listeners -> 勾上Ancestors`
* [查看网络选项里 html 文件的 Intiator, 可以看到跳转到该页面前的调用栈](https://stackoverflow.com/questions/11194971/break-when-window-location-changes)
* 其他见[页面性能](2015-12-21-Performance.md#Chrome%20dev%20tools) 和 [JS 内存管理](2017-02-21-Javascript内存管理.md)
* useful Command Line API apis
  * `queryObjects` list all instances of a constructor
* `cmd + \` 暂停脚本(对于查看 hover 后展示的 element 很有用)
* [devtools-snippets](https://github.com/bgrins/devtools-snippets)

## 快捷键

* [Chrome快捷键](https://support.google.com/chrome/answer/165450?hl=zh-Hans)
* `Command-L` 突出显示网址。
* `Command-T` 打开新标签页。
* `Command-Option+箭头键` 切换标签页。
* [List of Chrome URLS](chrome://about/)

## Chrome headless

* [chrome-launcher(by lighthouse team)](https://github.com/GoogleChrome/chrome-launcher) just a launcher
* [非官方 list](https://medium.com/@kensoh/chromeless-chrominator-chromy-navalia-lambdium-ghostjs-autogcd-ef34bcd26907)

> [Headless Chrome 入门](https://zhuanlan.zhihu.com/p/29207391)

## 扩展

* [Don't track me Google(禁止google搜索页面链接跳转)](https://chrome.google.com/webstore/detail/gdbofhhdmcladcmmfjolgndfkpobecpg)
