# CSS

* [BEM(Block, Element, Modifier)](https://en.bem.info/)
* [The Negation Pseudo-class: :not()](https://www.w3.org/TR/selectors-4/#negation)
* [一个用 js 设置 css 伪类 style 的 hack](http://mcgivery.com/htmlelement-pseudostyle-settingmodifying-before-and-after-in-javascript/)

## CSS Tips

Don't change the default behavior of an element if you can avoid it. Keep elements in the natural document flow as much as you can. For example, removing the white-space below an image shouldn't make you change its default display:

```css
/* bad */img {  display: block; }
/* good */img {  vertical-align: middle; }
```

相邻兄弟选择器: `+`: 下面这个选择器只会把列表中的第二个和第三个列表项变为粗体。第一个列表项不受影响。

```css
li + li {font-weight:bold;}
```

Magic words that lets Mac OS see typography like everyone else

```css
-webkit-font-smoothing: antialiased;
```

> [learnlayout](http://zh.learnlayout.com/)

## font-face

`@font-face`在Firefox里不执行的问题:
解决方法：在`.htaccess`文件里添加：

```bash
<FilesMatch "\.(ttf|otf|eot)$">
    <IfModule mod_headers.c>
        Header set Access-Control-Allow-Origin "*"
    </IfModule>
</FilesMatch>
```

> [stackoverflow.com](http://stackoverflow.com/questions/2856502/css-font-face-not-working-with-firefox-but-working-with-chrome-and-ie)

## CSS单行、多行文本溢出显示省略号

单行文本

```css
{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
```

多行文本

```css
{
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
```

* 判断文本是否溢出: `el.clientHeight < el.scrollHeight`

## 三栏布局

> [知乎专栏](https://zhuanlan.zhihu.com/p/25070186)

## 垂直居中

> [css-tricks](https://css-tricks.com/centering-css-complete-guide/)

## flexbox

这是一个分配剩余空间的游戏

```css
.item {
  // Default is 0 1 auto.
  flex: none | [ <'flex-grow'> <'flex-shrink'>? || <'flex-basis'> ]
}
```

> [深入理解css3中的flex-grow、flex-shrink、flex-basis by Zhoonchen](http://zhoon.github.io/css3/2014/08/23/flex.html)
>
> [css-tricks](https://css-tricks.com/snippets/css/a-guide-to-flexbox/)
>
> [Flexbox Cheatsheet](https://yoksel.github.io/flex-cheatsheet/)
>
> [flexbugs](https://github.com/philipwalton/flexbugs)

## rem

设计稿: 750px -> 脑补成375px -> 等分成100份 -> 1份=3.75px -> 1rem = 10份 -> 1rem = 37.5px

* 然后根据不同手机的分辨率, 设置root element(html) 的 font-size
* 再设置 body 的 font-size 为 12px * dpr (为了不影响里面元素font-size的继承)
* 根据 1/dpr 设置 viewport 的 scale 值

> [font size of the root element](https://www.w3.org/TR/css3-values/#rem)
>
> [amfe/lib-flexible](https://github.com/amfe/article/issues/17)
>
> [px2rem](https://www.npmjs.com/package/px2rem)

## CSSStyleSheet

* `document.styleSheets` 获取当前页面的所有样式

> [MDN](https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet)

* `window.getComputedStyle(element[, pseudoElt])` 获取当前元素样式

## Rendering

### Non-replaced elements

Non-replaced elements **一般**都是有前后闭合标签的, 如 `<div>abc</div>`

> [W3C](https://www.w3.org/TR/html5/rendering.html#non-replaced-elements)

### Replaced element

appearance and dimensions are defined by an external resource

Replaced elements 一般都是自闭合的, 如 `<img src="eightball.gif">`

> [W3C](https://www.w3.org/TR/html5/rendering.html#replaced-elements)

### Widgets

`<button>`, `<input>`(除了Image Button) 等属于 [Widgets](https://www.w3.org/TR/html5/rendering.html#widgets)

但是通常 button 有 Replacedd element 的特性

## Houdini

> [Houdini：CSS 领域最令人振奋的革新](https://zhuanlan.zhihu.com/p/20939640)
>
> [Is Houdini ready yet](https://ishoudinireadyyet.com/)
